<nav class="navbar navbar-default" role="navigation" ng-hide="vm.state.$current.data.hideNavbar">
	<div class="container">
		
		<div class="navbar-header">
			<button type="button" class="navbar-toggle collapsed"  ng-click="vm.toggleNavbar()">
				<span class="sr-only">Toggle navigation</span> 
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
			</button>
			<a class="navbar-brand" href="/" ng-click="vm.collapseNavbar()"> 
				<img class="navbar-logo" style="max-width: 40px; margin-top:-10px;" src="content/images/logo.png">
			</a>
		</div>
		
		<div class="col-sm-5 col-md-5">
	        <form class="navbar-form" role="search" name="vm.formSearch" 
	        	ng-submit="vm.submitSearchForm(vm.search.type, vm.search.text, 1)">
		        <div class="input-group">
		          	<div class="input-group-btn">
		                <button class="btn btn-default" type="submit">
		                	<i class="glyphicon glyphicon-search"></i>
		                </button>
		            </div>
		            <input type="text" class="form-control" placeholder="Pesquise por filmes, séries, atores..." 
		            		name="vm.formSearch.text" ng-model="vm.search.text">
		        </div>
		        <select name="vm.formSearch.type" class="form-control" id="type" 
		        	ng-options="type.path as type.name for type in vm.searchTypes"
					ng-model="vm.search.type">
				 </select>
	        </form>
    	</div>

		<div class="navbar-collapse" uib-collapse="vm.isNavbarCollapsed" ng-switch="vm.isAuthenticated()">
			
			<ul class="nav navbar-nav navbar-right navbarLogin">
				
				<li uib-dropdown class="dropdown" auto-close="outsideClick" is-open="vm.isOpen" 
					ng-hide="vm.state.$current.data.hideLoginDropdown">
                    <a class="dropdown-toggle" uib-dropdown-toggle href="" id="account-menu">
                        <span>
                            <span ng-switch-when="false" class="glyphicon glyphicon-user"></span>
                            <img ng-switch-when="true" ng-src="{{vm.getUserInfo().avatar ? 
                            	vm.getUserInfo().avatar : 'content/images/avatar/avatar-20x20.png'}}">
                            <span class="hidden-sm" ng-switch-when="true">
                                {{vm.getUserInfo().name}}
                            </span>
                            <span class="hidden-sm" ng-switch-when="false">
                                Login
                            </span>
                            <b class="caret"></b>
                        </span>
                    </a>
                    <ul class="dropdown-menu" uib-dropdown-menu role="menu" aria-labelledby="single-button">
                        <li ui-sref-active="active" ng-switch-when="true">
                            <!-- 
                            	<a ui-sref="settings" ng-click="vm.collapseNavbar()">
	                                <span class="glyphicon glyphicon-wrench"></span>&nbsp;
	                                <span>Configurações</span>
                            	</a>
                             -->
                            <a ng-click="vm.collapseNavbar()">
                                <span class="glyphicon glyphicon-wrench"></span>&nbsp;
                                <span>Configurações</span>
                            </a>
                        </li>
                        <li ui-sref-active="active" ng-switch-when="true">
                            <a href="" ng-click="vm.logout()" id="logout">
                                <span class="glyphicon glyphicon-log-out"></span>&nbsp;
                                <span>Logout</span>
                            </a>
                        </li>
                        <li ui-sref-active="active" ng-switch-when="false" class="login-dropdown">
                        	<div class="col-md-12">
                                
                                <div class="text-center navbar-default-formLogin">
                               		<h3><b>Login</b></h3>
                               	</div>
	                            
	                            <form novalidate role="form" ng-submit="vm.login($event)" name="vm.formLogin">
									
									<div class="form-group">
										<label for="username" class="navbar-default-formLogin">Usuário</label> 
										<input type="text" class="form-control" id="username"
											placeholder="Usuário" ng-model="vm.username" name="username"
											ng-required="true" ng-maxlength="30">
									</div>
									
									<div class="form-group">
										<label for="password" class="navbar-default-formLogin">Senha</label> 
										<input type="password" class="form-control" id="password"
											placeholder="Senha" ng-model="vm.password " ng-required="true"
											ng-maxlength="50" name="password">
									</div>
									
									 <div class="form-group">
									 	<div class="row">
									 		<div class="col-xs-7">
	                                             <input type="checkbox" id="rememberMe" ng-model="vm.rememberMe" checked> 
	                                             <label for="rememberMe" class="navbar-default-formLogin">Lembrar-me</label>
	                                         </div>
	                                         <div class="col-xs-5 pull-right">
	                                            <button type="submit" class="form-control btnEntrar">
													Entrar
												</button>
	                                         </div>
									 	</div>
									 </div>
									 
									<div class="form-group">
                                        <div class="row">
                                            <div class="col-lg-12">
                                                <div class="text-center">
                                                    <a class="forgot-password">
                                                    	Esqueceu a senha?
                                                    </a>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
									
								</form>
							</div>
                        </li>
                    </ul>
                </li>
	           
			</ul>
			
		</div>
		
	</div>
</nav>